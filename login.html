<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ADRI-X â€” Login</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <nav class="navbar">
    <div class="logo">ADRI-X</div>
    <ul class="nav-links">
      <li><a href="index.html">Home</a></li>
    </ul>
  </nav>

  <main>
    <div class="login-container" role="main" aria-labelledby="loginTitle">
      <h2 id="loginTitle">Sign in to ADRI-X</h2>

      <!-- EMAIL / PASSWORD -->
    <div class="field">
      <input id="email" type="email" placeholder="Email" autocomplete="email" />
    </div>
    <div class="field">
      <input id="password" type="password" placeholder="Password" autocomplete="current-password" />
    </div>
    <button id="emailLoginBtn" class="login-primary">Login with Email</button>

    <div class="or-sep">Or continue with</div>

    <!-- SOCIAL BUTTONS -->
    <div class="social-row">
      <button id="googleLogin" class="auth-btn google"><span class="icon">G</span> Continue with Google</button>
      <button id="appleLogin" class="auth-btn apple"><span class="icon">ï£¿</span> Continue with Apple</button>
      <button id="microsoftLogin" class="auth-btn microsoft"><span class="icon">M</span> Continue with Microsoft</button>
      <button id="phoneLogin" class="auth-btn phone"><span class="icon">ðŸ“±</span> Continue with Phone</button>
    </div>

    <!-- PHONE FLOW (hidden initially) -->
    <div id="phoneFlow" style="display:none; margin-top:12px;">
      <div class="field">
        <input id="phoneNumber" type="tel" placeholder="+91 98765 43210" autocomplete="tel" />
      </div>
      <button id="sendOtpBtn" class="login-primary">Send OTP</button>

      <!-- OTP row (optional single-box inputs) -->
      <div id="otpRow" class="otp-row" style="display:none; margin-top:10px;">
        <input class="otp-input" maxlength="1" inputmode="numeric" />
        <input class="otp-input" maxlength="1" inputmode="numeric" />
        <input class="otp-input" maxlength="1" inputmode="numeric" />
        <input class="otp-input" maxlength="1" inputmode="numeric" />
        <input class="otp-input" maxlength="1" inputmode="numeric" />
        <input class="otp-input" maxlength="1" inputmode="numeric" />
      </div>

      <button id="verifyOtpBtn" class="login-primary" style="display:none; margin-top:10px;">Verify OTP</button>

      <!-- recaptcha placeholder required by Firebase phone auth -->
      <div id="recaptcha-container"></div>
    </div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
  import { 
    getAuth, 
    GoogleAuthProvider, 
    OAuthProvider, 
    signInWithPopup,
    signInWithEmailAndPassword,
    RecaptchaVerifier,
    signInWithPhoneNumber
  } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-auth.js";

  // ðŸ”‘ Firebase config
   const firebaseConfig = {
    apiKey: "AIzaSyDePtfAKouNDGoNY27_mIfSG096hRJ9U1U",
    authDomain: "adrix-1.firebaseapp.com",
    projectId: "adrix-1",
    storageBucket: "adrix-1.firebasestorage.app",
    messagingSenderId: "633957470456",
    appId: "1:633957470456:web:0865dfe89f5e9f6df2ab0d"
  };

  // ðŸ”‘ Firebase init
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  // âœ… Google Login
  document.getElementById("google-login").addEventListener("click", async () => {
    const provider = new GoogleAuthProvider();
    try {
      const result = await signInWithPopup(auth, provider);
      alert("Welcome " + result.user.displayName);
    } catch (err) {
      console.error(err);
    }
  });

  // âœ… Microsoft Login
  document.getElementById("microsoft-login").addEventListener("click", async () => {
    const provider = new OAuthProvider('microsoft.com');
    try {
      const result = await signInWithPopup(auth, provider);
      alert("Microsoft User: " + result.user.displayName);
    } catch (err) {
      console.error(err);
    }
  });

  // âœ… Apple Login
  document.getElementById("apple-login").addEventListener("click", async () => {
    const provider = new OAuthProvider('apple.com');
    try {
      const result = await signInWithPopup(auth, provider);
      alert("Apple User: " + result.user.displayName);
    } catch (err) {
      console.error(err);
    }
  });

  // âœ… Email Login 
  document.getElementById("email-login").addEventListener("click", async () => {
    try {
      const email = prompt("Enter Email");
      const password = prompt("Enter Password");
      const result = await signInWithEmailAndPassword(auth, email, password);
      alert("Welcome " + result.user.email);
    } catch (err) {
      console.error(err);
    }
  });

  // âœ… Phone Login
  document.getElementById("phone-login").addEventListener("click", async () => {
    const phoneNumber = prompt("Enter Phone Number (+91...)");
    const appVerifier = new RecaptchaVerifier(auth, 'phone-login', {});
    try {
      const confirmationResult = await signInWithPhoneNumber(auth, phoneNumber, appVerifier);
      const code = prompt("Enter OTP");
      const result = await confirmationResult.confirm(code);
      alert("Phone Auth User: " + result.user.phoneNumber);
    } catch (err) {
      console.error(err);
    }
  });
</script>

        <!-- OTP inputs (optional) -->
        <div class="otp-row" id="otpRow" style="display:none; margin-top:10px;">
          <input class="otp-input" maxlength="1" inputmode="numeric" />
          <input class="otp-input" maxlength="1" inputmode="numeric" />
          <input class="otp-input" maxlength="1" inputmode="numeric" />
          <input class="otp-input" maxlength="1" inputmode="numeric" />
          <input class="otp-input" maxlength="1" inputmode="numeric" />
          <input class="otp-input" maxlength="1" inputmode="numeric" />
        </div>

        <button id="verifyOtpBtn" class="login-primary" style="display:none; margin-top:10px;">Verify OTP</button>
        <div id="recaptcha-container"></div>
      </div>

     <!-- status line -->
<p id="status">Not signed in</p>


  <!-- Your init + auth logic -->
  <script type="module">"firebase-init.js"</script>
  <script type="module">"auth.js"</script>
</body>
</html>











